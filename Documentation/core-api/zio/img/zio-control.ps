%!PS-Adobe-2.0 EPSF-1.2
%%Creator: Alessandro Rubini
%%Title: zio control internals
%%BoundingBox: 0 0 600 600
%%EndComments
/S {dup ==} def
/S2 {2 copy == ==} def
/S3 {3 copy == == ==} def
/S4 {4 copy == == == ==} def
/grid { % xmin xmax ymin ymax step
        gsave
 /step exch def
 /maxy exch def
 /miny exch def
 /maxx exch def
 /minx exch def
        .8 .8 .8 setrgbcolor
        .2 setlinewidth
        % vertical lines
        minx step maxx {
                dup
                miny moveto maxy lineto stroke
        } for
        % horizontal lines
        miny step maxy {
                dup
                minx exch moveto maxx exch lineto stroke
        } for
} def
/centerstring { % fontname width string -- fontsize
    gsave
    3 2 roll findfont setfont % width string
    dup 3 1 roll % string width string
    stringwidth pop div dup 3 1 roll % scale string scale
    dup neg 0 exch rmoveto % scale string scale
    currentfont exch scalefont setfont % scale string
    show
    grestore
} def
/centeratsize { % x y string --
        gsave
        3 1 roll moveto
        dup stringwidth pop 2 div neg 0 rmoveto show
        grestore
} def
/wohs { % x y string --
        gsave
        dup stringwidth pop neg 0 rmoveto show
        grestore
} def
/crect { % x y wid hei incolor outcolor --
    /xxoutco exch def
    /xxinco exch def
    4 copy
    xxinco rgb rectfill
    xxoutco rgb
    /hei exch def
    /wid exch def
    moveto
    wid 0 rlineto 0 hei rlineto
    wid neg 0 rlineto closepath
    stroke
} def
/zrect { % x y wid hei incolor outcolor letter --
    /xxname exch def
    /xxoutco exch def
    /xxinco exch def
    4 copy
    xxinco rgb rectfill
    xxoutco rgb
    /hei exch def
    /wid exch def
    gsave
 translate
 0 0 moveto
        wid 0 rlineto 0 hei rlineto
 wid neg 0 rlineto closepath
 stroke
 /Helvetica-Bold findfont 8 scalefont setfont
 wid 10 sub 3 moveto xxname show
    grestore
} def
/zzrect { % x y wid hei name
    aload pop zrect
} def
/arrow { % x y len angle --
    /xxangle exch def
    /xxlen exch def
    gsave
    translate
    xxangle rotate
    0 0 moveto
    xxlen 0 lineto stroke
    xxlen 0 moveto
    -10 5 rlineto
    0 -10 rlineto
    closepath fill
    grestore
} def
/carrow { % x y len angle color --
    rgb
    arrow
} def
% inner: S=255, V=193
% outer: S=255, V=116
/Linner [191 193 0] def
/Louter [115 116 0] def
% rifo V=225
/Linner [225 225 0] def
/Finner [105 195 0] def
/Fouter [63 116 0] def
% V=225
/Sinner [225 166 137] def
/Souter [116 85 71] def
% rifo: piu` rosa
/Sinner [255 180 205] def
/Souter [116 82 100] def
/Binner [166 124 83] def
/Bouter [97 72 48] def
/Tinner [226 73 81] def
/Touter [116 40 40] def
/Pinner [225 78 255] def
/Pouter [116 50 151] def
/rgb {
    aload pop
    255 div 3 1 roll
    255 div 3 1 roll
    255 div 3 1 roll
    setrgbcolor
} def
/Cinner [0 220 224] def
/Couter [0 115 116] def
/Dinner [0 128 128] def
/Douter [0 64 64] def
/BLinner [94 94 225] def
/BLouter [0 0 116] def
% fix B (above is too blue
/BLinner [114 172 216] def
/BLouter [53 99 135] def
% again blue: much less saturated
/BLinner [177 199 216] def
/BLouter [53 99 135] def
% try again D
/Dinner [0 147 232] def
/Douter [0 64 64] def
/Dinner [30 115 144] def
/Dinner [62 146 175] def
/Douter [0 64 64] def
% fix C
/Couter Douter def
/Cinner [142 220 224] def
/L [ Linner Louter (L) ] def
/F [ Finner Fouter (F) ] def
/S [ Sinner Souter (S) ] def
/B [ Binner Bouter (B) ] def
/T [ Tinner Touter (T) ] def
/P [ Pinner Pouter (P) ] def
/C [ Cinner Couter (C) ] def
/D [ Dinner Douter (D) ] def
/BL [ BLinner BLouter (bl) ] def
/Ninner [ 220 220 220 ] def
/Nouter [ 128 128 128] def
/N [ Ninner Nouter (N) ] def
% was 400x400
1.5 1.5 scale
%0 400 0 400 20 grid
gsave
%60 20 320 360 Cinner Couter () zrect
60 380 translate
1 -1 scale
20 20 scale
.05 setlinewidth
0 0 16 18 Cinner Couter () zrect
/cfield { % x y wid str --
    /xxstr exch def
    /xxwid exch def
    2 copy
    xxwid 1 Cinner Couter () zrect
    gsave
 0 0 0 setrgbcolor
 /Helvetica-Bold findfont 0.7 scalefont setfont
 1 add translate
 1 -1 scale
 xxwid 2 div 0.3 xxstr centeratsize
 %wid 2 div .1 rmoveto xxstr centerstring
    grestore
} def
/afield { % x y wid str --
    /xxstr exch def
    /xxwid exch def
    2 copy
    xxwid 1 [ 220 220 220 ] Couter () zrect
    gsave
 0 0 0 setrgbcolor
 /Helvetica-Bold findfont 0.7 scalefont setfont
 1 add translate
 1 -1 scale
 xxwid 2 div 0.3 xxstr centeratsize
 %wid 2 div .1 rmoveto xxstr centerstring
    grestore
} def
/tfield { % x y wid str --
    /xxstr exch def
    /xxwid exch def
    2 copy
    xxwid 1 [ 177 255 216 ] Couter () zrect
    gsave
 0 0 0 setrgbcolor
 /Helvetica-Bold findfont 0.7 scalefont setfont
 1 add translate
 1 -1 scale
 xxwid 2 div 0.3 xxstr centeratsize
 %wid 2 div .1 rmoveto xxstr centerstring
    grestore
} def
 0 0 1 (V) cfield
 1 0 1 (v) cfield
 2 0 1 (A) cfield
 3 0 1 (a) cfield
 4 0 4 (sequence) cfield
 8 0 4 (nsamples) cfield
12 0 2 (ssize) cfield
14 0 2 (nbits) cfield
0 1 2 (fam) afield
 2 1 2 (type) afield
 4 1 8 (host-identification) afield
12 1 4 (device-id) afield
 0 2 2 (cset) afield
 2 2 2 (chan) afield
 4 2 12 (device name) afield
 0 3 8 (tstamp: secs) tfield
 8 3 8 (tstamp: ticks) tfield
 0 4 8 (tstamp: bins) tfield
 8 4 4 (mem-addr) cfield
12 4 4 (reserved) cfield
 0 5 4 (flags) cfield
 4 5 12 (trigger name) cfield
 0 17 16 (TLV record for optional extra information) cfield
 gsave
 0 15 translate 1 -1 scale
 /Helvetica-Bold findfont 0.7 scalefont setfont
 8 7 (This area hosts attributes for the device) centeratsize
 8 6 (and for the currently active trigger.) centeratsize
 8 4 (Device and trigger are each characterized by) centeratsize
 8 3 (16 "standard" attrs and 32 "extended" attrs.) centeratsize
 8 2 (A bit-mask states which attrs are active.) centeratsize
 8 0 (Each attribute is a 32-bit word) centeratsize
 grestore
 gsave
 /Helvetica-Bold findfont 0.8 scalefont setfont
 0 0 0 setrgbcolor
 -2 6.8 translate 1 -1 scale
 0 6 moveto (0x00) show
 0 5 moveto (0x10) show
 0 4 moveto (0x20) show
 0 3 moveto (0x30) show
 0 2 moveto (0x40) show
 0 1 moveto (0x50) show
 0 0 moveto (0x60) show
 grestore
 /Helvetica-Bold findfont 0.8 scalefont setfont
 0 0 0 setrgbcolor
 -2.5 17.8 translate 1 -1 scale
 0 0 moveto (0x1F0) show
%80 85 moveto gsave (Block) show grestore 70 0 rmoveto (Blue) show
%80 55 moveto gsave (Control) show grestore 70 0 rmoveto (Cyan) show
%80 25 moveto gsave (Data) show grestore 70 0 rmoveto (Darker) show
grestore
%0 400 0 400 20 grid
showpage
